function Delegate(){}Delegate.create=function(e,t){var n=new Array;var r=arguments.length;for(var i=2;i<r;i++)n[i-2]=arguments[i];return function(){var r=[].concat(arguments,n);t.apply(e,r)}};Tween=function(e,t,n,r,i,s,o){this.init(e,t,n,r,i,s,o)};var t=Tween.prototype;t.obj=new Object;t.prop="";t.func=function(e,t,n,r){return n*e/r+t};t.begin=0;t.change=0;t.prevTime=0;t.prevPos=0;t.looping=false;t._duration=0;t._time=0;t._pos=0;t._position=0;t._startTime=0;t._finish=0;t.name="";t.suffixe="";t._listeners=new Array;t.setTime=function(e){this.prevTime=this._time;if(e>this.getDuration()){if(this.looping){this.rewind(e-this._duration);this.update();this.broadcastMessage("onMotionLooped",{target:this,type:"onMotionLooped"})}else{this._time=this._duration;this.update();this.stop();this.broadcastMessage("onMotionFinished",{target:this,type:"onMotionFinished"})}}else if(e<0){this.rewind();this.update()}else{this._time=e;this.update()}};t.getTime=function(){return this._time};t.setDuration=function(e){this._duration=e==null||e<=0?1e5:e};t.getDuration=function(){return this._duration};t.setPosition=function(e){this.prevPos=this._pos;var t=this.suffixe!=""?this.suffixe:"";this.obj[this.prop]=Math.round(e)+t;this._pos=e;this.broadcastMessage("onMotionChanged",{target:this,type:"onMotionChanged"})};t.getPosition=function(e){if(e==undefined)e=this._time;return this.func(e,this.begin,this.change,this._duration)};t.setFinish=function(e){this.change=e-this.begin};t.getFinish=function(){return this.begin+this.change};t.init=function(e,t,n,r,i,s,o){if(!arguments.length)return;this._listeners=new Array;this.addListener(this);if(o)this.suffixe=o;this.obj=e;this.prop=t;this.begin=r;this._pos=r;this.setDuration(s);if(n!=null&&n!=""){this.func=n}this.setFinish(i)};t.start=function(){this.rewind();this.startEnterFrame();this.broadcastMessage("onMotionStarted",{target:this,type:"onMotionStarted"})};t.rewind=function(e){this.stop();this._time=e==undefined?0:e;this.fixTime();this.update()};t.fforward=function(){this._time=this._duration;this.fixTime();this.update()};t.update=function(){this.setPosition(this.getPosition(this._time))};t.startEnterFrame=function(){this.stopEnterFrame();this.isPlaying=true;this.onEnterFrame()};t.onEnterFrame=function(){if(this.isPlaying){this.nextFrame();setTimeout(Delegate.create(this,this.onEnterFrame),0)}};t.nextFrame=function(){this.setTime((this.getTimer()-this._startTime)/1e3)};t.stop=function(){this.stopEnterFrame();this.broadcastMessage("onMotionStopped",{target:this,type:"onMotionStopped"})};t.stopEnterFrame=function(){this.isPlaying=false};t.continueTo=function(e,t){this.begin=this._pos;this.setFinish(e);if(this._duration!=undefined)this.setDuration(t);this.start()};t.resume=function(){this.fixTime();this.startEnterFrame();this.broadcastMessage("onMotionResumed",{target:this,type:"onMotionResumed"})};t.yoyo=function(){this.continueTo(this.begin,this._time)};t.addListener=function(e){this.removeListener(e);return this._listeners.push(e)};t.removeListener=function(e){var t=this._listeners;var n=t.length;while(n--){if(t[n]==e){t.splice(n,1);return true}}return false};t.broadcastMessage=function(){var e=new Array;for(var t=0;t<arguments.length;t++){e.push(arguments[t])}var n=e.shift();var r=this._listeners;var i=r.length;for(var t=0;t<i;t++){if(r[t][n])r[t][n].apply(r[t],e)}};t.fixTime=function(){this._startTime=this.getTimer()-this._time*1e3};t.getTimer=function(){return(new Date).getTime()-this._time};Tween.backEaseIn=function(e,t,n,r,i,s){if(o==undefined)var o=1.70158;return n*(e/=r)*e*((o+1)*e-o)+t};Tween.backEaseOut=function(e,t,n,r,i,s){if(o==undefined)var o=1.70158;return n*((e=e/r-1)*e*((o+1)*e+o)+1)+t};Tween.backEaseInOut=function(e,t,n,r,i,s){if(o==undefined)var o=1.70158;if((e/=r/2)<1)return n/2*e*e*(((o*=1.525)+1)*e-o)+t;return n/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+t};Tween.elasticEaseIn=function(e,t,n,r,i,s){if(e==0)return t;if((e/=r)==1)return t+n;if(!s)s=r*.3;if(!i||i<Math.abs(n)){i=n;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(n/i);return-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s))+t};Tween.elasticEaseOut=function(e,t,n,r,i,s){if(e==0)return t;if((e/=r)==1)return t+n;if(!s)s=r*.3;if(!i||i<Math.abs(n)){i=n;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(n/i);return i*Math.pow(2,-10*e)*Math.sin((e*r-o)*2*Math.PI/s)+n+t};Tween.elasticEaseInOut=function(e,t,n,r,i,s){if(e==0)return t;if((e/=r/2)==2)return t+n;if(!s)var s=r*.3*1.5;if(!i||i<Math.abs(n)){var i=n;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(n/i);if(e<1)return-.5*i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)+t;return i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)*.5+n+t};Tween.bounceEaseOut=function(e,t,n,r){if((e/=r)<1/2.75){return n*7.5625*e*e+t}else if(e<2/2.75){return n*(7.5625*(e-=1.5/2.75)*e+.75)+t}else if(e<2.5/2.75){return n*(7.5625*(e-=2.25/2.75)*e+.9375)+t}else{return n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}};Tween.bounceEaseIn=function(e,t,n,r){return n-Tween.bounceEaseOut(r-e,0,n,r)+t};Tween.bounceEaseInOut=function(e,t,n,r){if(e<r/2)return Tween.bounceEaseIn(e*2,0,n,r)*.5+t;else return Tween.bounceEaseOut(e*2-r,0,n,r)*.5+n*.5+t};Tween.strongEaseInOut=function(e,t,n,r){return n*(e/=r)*e*e*e*e+t};Tween.regularEaseIn=function(e,t,n,r){return n*(e/=r)*e+t};Tween.regularEaseOut=function(e,t,n,r){return-n*(e/=r)*(e-2)+t};Tween.regularEaseInOut=function(e,t,n,r){if((e/=r/2)<1)return n/2*e*e+t;return-n/2*(--e*(e-2)-1)+t};Tween.strongEaseIn=function(e,t,n,r){return n*(e/=r)*e*e*e*e+t};Tween.strongEaseOut=function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t};Tween.strongEaseInOut=function(e,t,n,r){if((e/=r/2)<1)return n/2*e*e*e*e*e+t;return n/2*((e-=2)*e*e*e*e+2)+t}
function ColorTween(e,t,n,r,i,s){this.targetObject=e;this.targetProperty=t;this.fromColor=r;this.toColor=i;this.init(new Object,"x",n,0,100,s);this.listenerObj=new Object;this.listenerObj.onMotionChanged=Delegate.create(this,this.onColorChanged);this.addListener(this.listenerObj)}ColorTween.prototype=new Tween;ColorTween.prototype.constructor=Tween;ColorTween.superclass=Tween.prototype;var o=ColorTween.prototype;o.targetObject={};o.targetProperty={};o.fromColor="";o.toColor="";o.currentColor="";o.listenerObj={};o.onColorChanged=function(){this.currentColor=this.getColor(this.fromColor,this.toColor,this._pos);this.targetObject[this.targetProperty]=this.currentColor};o.getColor=function(e,t,n){var i=this.hex2dec(e.slice(0,2));var s=this.hex2dec(e.slice(2,4));var o=this.hex2dec(e.slice(4,6));var u=this.hex2dec(t.slice(0,2));var a=this.hex2dec(t.slice(2,4));var f=this.hex2dec(t.slice(4,6));var l=n/100;r=Math.floor(i+l*(u-i)+.5);g=Math.floor(s+l*(a-s)+.5);b=Math.floor(o+l*(f-o)+.5);return"#"+this.dec2hex(r)+this.dec2hex(g)+this.dec2hex(b)};o.dec2hex=function(e){return this.hexDigit[e>>4]+this.hexDigit[e&15]};o.hexDigit=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F");o.hex2dec=function(e){return parseInt(e,16)}
function OpacityTween(e,t,n,r,i){this.targetObject=e;this.init(new Object,"x",t,n,r,i)}OpacityTween.prototype=new Tween;OpacityTween.prototype.constructor=Tween;OpacityTween.superclass=Tween.prototype;var o=OpacityTween.prototype;o.targetObject={};o.onMotionChanged=function(e){var t=e.target._pos;var n=this.targetObject;n.style["opacity"]=t/100;n.style["-moz-opacity"]=t/100;if(n.filters)n.filters.alpha["opacity"]=t}
